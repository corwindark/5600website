{"title":"Data Visualization","markdown":{"yaml":{"title":"Data Visualization"},"containsRefs":false,"markdown":"\n\n\nThe central question of this research project is about stock market volatility. As such the following visualizations will explore this subject in different areas. To start with, let's define the outcome variables in question:\n\nFor each security: S&P 500, QQQ Pro-Shares ETF, and Russell 200 index, we have several metrics\n1. Price\n2. Standard deviation (10 day window)\n3. True range (intraday difference between highest and lowest price/previous closing value)\n4. Trading volume\n\nThe window of our investigation is January 1st 2021 - September 30th 2023.\n\n``` {r}\nlibrary(tidyverse)\nlibrary(quantmod)\n\nspyIn <- quantmod::getSymbols(\"SPY\", from = as.Date(\"2021/01/01\"), to = as.Date(\"2023/09/30\"), periodicity = \"daily\", src = \"yahoo\", auto.assign = FALSE)\nqqqIn <- quantmod::getSymbols(\"QQQ\", from = as.Date(\"2021/01/01\"), to = as.Date(\"2023/09/30\"), periodicity = \"daily\", src = \"yahoo\", auto.assign = FALSE)\niwmIn <- quantmod::getSymbols(\"IWM\", from = as.Date(\"2021/01/01\"), to = as.Date(\"2023/09/30\"), periodicity = \"daily\", src = \"yahoo\", auto.assign = FALSE)\n\nhead(spyIn)\nhead(qqqIn)\nhead(iwmIn)\n\n\n```\n\n\nLet's start by simply seeing the absolute prices of these securities over time:\n```{r}\nlibrary(plotly)\n\ncombinedCloses <- cbind(spyIn$SPY.Close, qqqIn$QQQ.Close, iwmIn$IWM.Close)\n\n\nts.plot(combinedCloses, gpars = list(col = rainbow(3)))\n\nlegend(\"topleft\", legend = c(\"SPY\", \"QQQ\", \"IWM\"), col = 1:3, lty = 1)\n```\n\n\nIn these charts, we can see that the overall trend for all three securities has been somewhat of a decline since the start of the time window. We can also see that QQQ and IWM have moved further in their trends than SPY, which makes sense as that is the most stable index of the three.\n\n\n\nNow, let us look at the intraday range volatility measure. \n``` {r}\n\nspyIn$spyRange <- (spyIn$SPY.High - spyIn$SPY.Low)/ spyIn$SPY.Open\nqqqIn$qqqRange <- (qqqIn$QQQ.High - qqqIn$QQQ.Low)/ qqqIn$QQQ.Open\niwmIn$iwmRange <- (iwmIn$IWM.High - iwmIn$IWM.Low)/ iwmIn$IWM.Open\n\ncombinedIntradayPercentRange <- cbind(spyIn$spyRange, qqqIn$qqqRange, iwmIn$iwmRange)\n\nhead(qqqIn$pctRange)\nts.plot(combinedIntradayPercentRange, gpars = list(col = rainbow(3)))\n\nlegend(\"topleft\", legend = c(\"SPY\", \"QQQ\", \"IWM\"), col = 1:3, lty = 1)\n\ntitle(\"Daily High-Low Range as Percent of Open Price\")\n\n\n```\n\nIn this chart, we can see that the three indices tended to move together, with the midpoint of the time window having a higher average range in daily prices than the beginning or end for all of the securities. However, we can also see again that volatility is not even between them, with SPY and IWM having higher daily ranges than QQQ on average (at least according to the naked eye).\n\n\nNow, let's review the trends in the federal funds rate:\n``` {r}\nlibrary(lubridate)\n\ndff <- read.csv(\"./dff.csv\")\n\ndff <- dff %>%\n    mutate(DATE = ymd(DATE)) %>%\n    filter(DATE >= ymd(\"2021-01-01\"))\n\nplot3 <- ggplot(dff, aes(x = DATE, y = DFF)) + geom_line() + labs(y = \"Daily Federal Fund Rate\", x = \"Time\", title = \"Daily Federal Funds Rate over Time\")\nggplotly(plot3)\n\n\n\n```","srcMarkdownNoYaml":"\n\n\nThe central question of this research project is about stock market volatility. As such the following visualizations will explore this subject in different areas. To start with, let's define the outcome variables in question:\n\nFor each security: S&P 500, QQQ Pro-Shares ETF, and Russell 200 index, we have several metrics\n1. Price\n2. Standard deviation (10 day window)\n3. True range (intraday difference between highest and lowest price/previous closing value)\n4. Trading volume\n\nThe window of our investigation is January 1st 2021 - September 30th 2023.\n\n``` {r}\nlibrary(tidyverse)\nlibrary(quantmod)\n\nspyIn <- quantmod::getSymbols(\"SPY\", from = as.Date(\"2021/01/01\"), to = as.Date(\"2023/09/30\"), periodicity = \"daily\", src = \"yahoo\", auto.assign = FALSE)\nqqqIn <- quantmod::getSymbols(\"QQQ\", from = as.Date(\"2021/01/01\"), to = as.Date(\"2023/09/30\"), periodicity = \"daily\", src = \"yahoo\", auto.assign = FALSE)\niwmIn <- quantmod::getSymbols(\"IWM\", from = as.Date(\"2021/01/01\"), to = as.Date(\"2023/09/30\"), periodicity = \"daily\", src = \"yahoo\", auto.assign = FALSE)\n\nhead(spyIn)\nhead(qqqIn)\nhead(iwmIn)\n\n\n```\n\n\nLet's start by simply seeing the absolute prices of these securities over time:\n```{r}\nlibrary(plotly)\n\ncombinedCloses <- cbind(spyIn$SPY.Close, qqqIn$QQQ.Close, iwmIn$IWM.Close)\n\n\nts.plot(combinedCloses, gpars = list(col = rainbow(3)))\n\nlegend(\"topleft\", legend = c(\"SPY\", \"QQQ\", \"IWM\"), col = 1:3, lty = 1)\n```\n\n\nIn these charts, we can see that the overall trend for all three securities has been somewhat of a decline since the start of the time window. We can also see that QQQ and IWM have moved further in their trends than SPY, which makes sense as that is the most stable index of the three.\n\n\n\nNow, let us look at the intraday range volatility measure. \n``` {r}\n\nspyIn$spyRange <- (spyIn$SPY.High - spyIn$SPY.Low)/ spyIn$SPY.Open\nqqqIn$qqqRange <- (qqqIn$QQQ.High - qqqIn$QQQ.Low)/ qqqIn$QQQ.Open\niwmIn$iwmRange <- (iwmIn$IWM.High - iwmIn$IWM.Low)/ iwmIn$IWM.Open\n\ncombinedIntradayPercentRange <- cbind(spyIn$spyRange, qqqIn$qqqRange, iwmIn$iwmRange)\n\nhead(qqqIn$pctRange)\nts.plot(combinedIntradayPercentRange, gpars = list(col = rainbow(3)))\n\nlegend(\"topleft\", legend = c(\"SPY\", \"QQQ\", \"IWM\"), col = 1:3, lty = 1)\n\ntitle(\"Daily High-Low Range as Percent of Open Price\")\n\n\n```\n\nIn this chart, we can see that the three indices tended to move together, with the midpoint of the time window having a higher average range in daily prices than the beginning or end for all of the securities. However, we can also see again that volatility is not even between them, with SPY and IWM having higher daily ranges than QQQ on average (at least according to the naked eye).\n\n\nNow, let's review the trends in the federal funds rate:\n``` {r}\nlibrary(lubridate)\n\ndff <- read.csv(\"./dff.csv\")\n\ndff <- dff %>%\n    mutate(DATE = ymd(DATE)) %>%\n    filter(DATE >= ymd(\"2021-01-01\"))\n\nplot3 <- ggplot(dff, aes(x = DATE, y = DFF)) + geom_line() + labs(y = \"Daily Federal Fund Rate\", x = \"Time\", title = \"Daily Federal Funds Rate over Time\")\nggplotly(plot3)\n\n\n\n```"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"Data Visualization.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","theme":"sandstone","title":"Data Visualization"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}