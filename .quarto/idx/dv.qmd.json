{"title":"Data Vizes in TS","markdown":{"yaml":{"title":"Data Vizes in TS"},"headingText":"using the code from the example, but with new tickers, and adjusting to start in 2019 because one of the companies only has data through 2019 (IPO I would presume)","containsRefs":false,"markdown":"\n\n```{r, echo=FALSE, messages = FALSE, warnings = FALSE}\n\nlibrary(tidyverse)\n#install.packages(plotly)\n#devtools::install_github(\"ropensci/plotly\")\nlibrary(quantmod)\nlibrary(plotly)\n\noptions(\"getSymbols.warning4.0\"=FALSE)\noptions(\"getSymbols.yahoo.warning\"=FALSE)\n\ntickers = c(\"AMGN\",\"PFE\",\"ABBV\", \"MRNA\", \"GILD\")\nfor (i in tickers){\n  getSymbols(i,\n             from = \"2019-10-01\",\n             to = \"2022-12-01\")}\n\nx <- list(\n  title = \"date\"\n)\ny <- list(\n  title = \"value\"\n)\n\nstock <- data.frame(AMGN$AMGN.Adjusted,\n                    PFE$PFE.Adjusted,\n                    ABBV$ABBV.Adjusted,\n                    MRNA$MRNA.Adjusted,\n                    GILD$GILD.Adjusted)\n\n\nstock <- data.frame(stock,rownames(stock))\ncolnames(stock) <- append(tickers,'Dates')\n\nstock$date<-as.Date(stock$Dates,\"%Y-%m-%d\")\n#head(stock)\n\nplot1 <- ggplot(stock, aes(x=date)) +\n    geom_line(aes(y=AMGN, colour=\"AMGN\"))+\n    geom_line(aes(y=PFE, colour=\"PFE\"))+\n    geom_line(aes(y=ABBV, colour=\"ABBV\"))+\n    geom_line(aes(y=MRNA, colour=\"MRNA\"))+\n    geom_line(aes(y=GILD, colour=\"GILD\"))+\n    labs(\n        title = \"Stock Prices for the Tech Companies\",\n        subtitle = \"From 2019-2022\",\n        x = \"Date\",\n        y = \"Adjusted Closing Prices\")+\n        theme(panel.background = element_rect(fill = \"white\", colour = \"grey50\"))+\n        guides(colour=guide_legend(title=\"Big Pharma Companies\"))\n\nggplotly(plot1) %>%\n  layout(hovermode = \"x\")\n```\n\nThis chart shows the extreme volatility of Moderna's stock price compared to its peers. The stock has gone from the cheapest of the 5 per share, to the most expensive by a factor of 2, back down to the 2nd most expensive, in the 3-year window visible. Meanwhile, the other 4 stocks have followed a roughly slow and steady upward trend, with Abbivie and Amgen having the greatest progression during the time period.\n\n\n```{r, echo=FALSE}\n\n# Again, using the code from the example to create the chart\nbitc <- getSymbols(\"BTC\",auto.assign = FALSE, from = \"2021-09-15\",src=\"yahoo\") \nbitc=data.frame(bitc)\nbitc <- data.frame(bitc,rownames(bitc))\n\ncolnames(bitc)[7] = \"date\"\nbitc$date<-as.Date(bitc$date,\"%Y-%m-%d\")\nvisual2 <- bitc %>%\n  ggplot()+\n  geom_line(aes(y=BTC.Adjusted,x=date),color=\"blue\")\n\nggplotly(visual2)\n```\n\nHere, we see a steep downward trend in BTC price before Winter 2022, however BTC price has recovered from the low and roughly stabalized after that inflection point.\n\n\n\n\n```{r, echo=FALSE}\ndf <- tail(bitc, 30)\n\nfigc <- df %>% plot_ly(x = ~date, type=\"candlestick\",\n          open = ~BTC.Open, close = ~BTC.Close,\n          high = ~BTC.High, low = ~BTC.Low) \nfigc <- figc %>% layout(title = \"Basic Candlestick Chart\")\n\nfigc\n\n```\n\nThe  candlestick chart shows how volatile bitcoins price can be in each day of the window studied. The candlesticks show wide intraday ranges in price.\n\n\n```{r, echo=FALSE}\nlibrary(lubridate)\n\nclimate <- read.csv(\"climate.csv\")\nhead(climate)\n\n\nclimate$DATE <- ymd(climate$DATE)\n\nvisual4 <- ggplot(data = climate, aes(x = month(DATE), y = PRCP, color = STATION, fill = STATION)) + geom_bar(position = \"stack\", stat = \"identity\") + labs(title = \"Total Precipitation by Month and Station\")\nggplotly(visual4)\n\n```\n\nthis chart shows the total precipitation recorded at 7 stations by month of the year. We can see the USC00182325 has a substantially higher total precipitation amount in August and September than all the other months. It is dubious, however, that the same station records no precipitation from October to December, and it leads me to wonder about whether the data is faulty. Secondly, we can see August has the highest total amount of precipitation recorded in the dataset.\n\n\n\n```{r, echo=FALSE}\ncpi <- read.csv(\"CPIAUCSL.csv\")\ncpi$DATE <- ymd(cpi$DATE)\nvisual5 <- ggplot(data = cpi, aes(x = DATE, y = CPIAUCSL)) + geom_line() + scale_y_log10() + labs(title = \"CPI in Urban Areas Over Time\", xlab = \"Year\", ylab = \"CPI\") \nggplotly(visual5)\n\n```\n\nHere, we can see the CPI index has increased steadily since the 1940s, with a slower period of increase between 1960 and 1970, and a higher period of increase between 1970 and 1980, followed by a marked jump after 2020.\n\n\n","srcMarkdownNoYaml":"\n\n```{r, echo=FALSE, messages = FALSE, warnings = FALSE}\n\nlibrary(tidyverse)\n#install.packages(plotly)\n#devtools::install_github(\"ropensci/plotly\")\nlibrary(quantmod)\nlibrary(plotly)\n\n# using the code from the example, but with new tickers, and adjusting to start in 2019 because one of the companies only has data through 2019 (IPO I would presume)\noptions(\"getSymbols.warning4.0\"=FALSE)\noptions(\"getSymbols.yahoo.warning\"=FALSE)\n\ntickers = c(\"AMGN\",\"PFE\",\"ABBV\", \"MRNA\", \"GILD\")\nfor (i in tickers){\n  getSymbols(i,\n             from = \"2019-10-01\",\n             to = \"2022-12-01\")}\n\nx <- list(\n  title = \"date\"\n)\ny <- list(\n  title = \"value\"\n)\n\nstock <- data.frame(AMGN$AMGN.Adjusted,\n                    PFE$PFE.Adjusted,\n                    ABBV$ABBV.Adjusted,\n                    MRNA$MRNA.Adjusted,\n                    GILD$GILD.Adjusted)\n\n\nstock <- data.frame(stock,rownames(stock))\ncolnames(stock) <- append(tickers,'Dates')\n\nstock$date<-as.Date(stock$Dates,\"%Y-%m-%d\")\n#head(stock)\n\nplot1 <- ggplot(stock, aes(x=date)) +\n    geom_line(aes(y=AMGN, colour=\"AMGN\"))+\n    geom_line(aes(y=PFE, colour=\"PFE\"))+\n    geom_line(aes(y=ABBV, colour=\"ABBV\"))+\n    geom_line(aes(y=MRNA, colour=\"MRNA\"))+\n    geom_line(aes(y=GILD, colour=\"GILD\"))+\n    labs(\n        title = \"Stock Prices for the Tech Companies\",\n        subtitle = \"From 2019-2022\",\n        x = \"Date\",\n        y = \"Adjusted Closing Prices\")+\n        theme(panel.background = element_rect(fill = \"white\", colour = \"grey50\"))+\n        guides(colour=guide_legend(title=\"Big Pharma Companies\"))\n\nggplotly(plot1) %>%\n  layout(hovermode = \"x\")\n```\n\nThis chart shows the extreme volatility of Moderna's stock price compared to its peers. The stock has gone from the cheapest of the 5 per share, to the most expensive by a factor of 2, back down to the 2nd most expensive, in the 3-year window visible. Meanwhile, the other 4 stocks have followed a roughly slow and steady upward trend, with Abbivie and Amgen having the greatest progression during the time period.\n\n\n```{r, echo=FALSE}\n\n# Again, using the code from the example to create the chart\nbitc <- getSymbols(\"BTC\",auto.assign = FALSE, from = \"2021-09-15\",src=\"yahoo\") \nbitc=data.frame(bitc)\nbitc <- data.frame(bitc,rownames(bitc))\n\ncolnames(bitc)[7] = \"date\"\nbitc$date<-as.Date(bitc$date,\"%Y-%m-%d\")\nvisual2 <- bitc %>%\n  ggplot()+\n  geom_line(aes(y=BTC.Adjusted,x=date),color=\"blue\")\n\nggplotly(visual2)\n```\n\nHere, we see a steep downward trend in BTC price before Winter 2022, however BTC price has recovered from the low and roughly stabalized after that inflection point.\n\n\n\n\n```{r, echo=FALSE}\ndf <- tail(bitc, 30)\n\nfigc <- df %>% plot_ly(x = ~date, type=\"candlestick\",\n          open = ~BTC.Open, close = ~BTC.Close,\n          high = ~BTC.High, low = ~BTC.Low) \nfigc <- figc %>% layout(title = \"Basic Candlestick Chart\")\n\nfigc\n\n```\n\nThe  candlestick chart shows how volatile bitcoins price can be in each day of the window studied. The candlesticks show wide intraday ranges in price.\n\n\n```{r, echo=FALSE}\nlibrary(lubridate)\n\nclimate <- read.csv(\"climate.csv\")\nhead(climate)\n\n\nclimate$DATE <- ymd(climate$DATE)\n\nvisual4 <- ggplot(data = climate, aes(x = month(DATE), y = PRCP, color = STATION, fill = STATION)) + geom_bar(position = \"stack\", stat = \"identity\") + labs(title = \"Total Precipitation by Month and Station\")\nggplotly(visual4)\n\n```\n\nthis chart shows the total precipitation recorded at 7 stations by month of the year. We can see the USC00182325 has a substantially higher total precipitation amount in August and September than all the other months. It is dubious, however, that the same station records no precipitation from October to December, and it leads me to wonder about whether the data is faulty. Secondly, we can see August has the highest total amount of precipitation recorded in the dataset.\n\n\n\n```{r, echo=FALSE}\ncpi <- read.csv(\"CPIAUCSL.csv\")\ncpi$DATE <- ymd(cpi$DATE)\nvisual5 <- ggplot(data = cpi, aes(x = DATE, y = CPIAUCSL)) + geom_line() + scale_y_log10() + labs(title = \"CPI in Urban Areas Over Time\", xlab = \"Year\", ylab = \"CPI\") \nggplotly(visual5)\n\n```\n\nHere, we can see the CPI index has increased steadily since the 1940s, with a slower period of increase between 1960 and 1970, and a higher period of increase between 1970 and 1980, followed by a marked jump after 2020.\n\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"dv.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","theme":"sandstone","title":"Data Vizes in TS"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}